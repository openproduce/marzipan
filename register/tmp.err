/var/lib/python-support/python2.6/sqlalchemy/util.py:7: DeprecationWarning: the sets module is deprecated
  import inspect, itertools, new, operator, sets, sys, warnings, weakref
/home/openproduce/marzipan/io.py:7: DeprecationWarning: The popen2 module is deprecated.  Use the subprocess module.
  import popen2
Traceback (most recent call last):
  File "ui.py", line 52, in <module>
    start()
  File "ui.py", line 47, in start
    curses.wrapper(main)
  File "/usr/lib/python2.6/curses/wrapper.py", line 44, in wrapper
    return func(stdscr, *args, **kwds)
  File "ui.py", line 20, in main
    sale_editor = ui.dialogs.SaleDialog()
  File "/home/openproduce/marzipan/ui/dialogs.py", line 1103, in __init__
    self._make_search()
  File "/home/openproduce/marzipan/ui/dialogs.py", line 1298, in _make_search
    layout.FillRightDown(self.measure.layout.width, 0))
  File "/home/openproduce/marzipan/ui/dialogs.py", line 972, in __init__
    SearchDialog.__init__(self, 'item', has_cancel, layout, search, editable=False)
  File "/home/openproduce/marzipan/ui/dialogs.py", line 804, in __init__
    self.make_index()
  File "/home/openproduce/marzipan/ui/dialogs.py", line 980, in make_index
    self.barcodes = set( bci.barcode  for bci in self.s.query((db.BarcodeItem,db.Item)).filter(db.item_filter) )
  File "/var/lib/python-support/python2.6/sqlalchemy/orm/session.py", line 763, in query
    q = self._query_cls(mapper_or_class, self, **kwargs)
  File "/var/lib/python-support/python2.6/sqlalchemy/orm/query.py", line 68, in __init__
    self.__init_mapper(_class_to_mapper(class_or_mapper, entity_name=entity_name))
  File "/var/lib/python-support/python2.6/sqlalchemy/orm/util.py", line 399, in _class_to_mapper
    return class_or_mapper.compile()
AttributeError: 'tuple' object has no attribute 'compile'
